<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<meta name="_csrf_parameter" th:content="${_csrf.parameterName}">
<meta name="_csrf_header" th:content="${_csrf.headerName}">
<meta name="_csrf" th:content="${_csrf.token}">
<title>Tables - SB Admin</title>
<link href="/startbootstrap-sb-admin-gh-pages/dist/css/styles.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css" rel="stylesheet" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/js/all.min.js" crossorigin="anonymous"></script>
</head>
<body class="sb-nav-fixed">
<nav th:replace="/admin/comm/innerTop.html :: innerTop"></nav>
<div id="layoutSidenav">
    <!-- 좌측 메뉴 -->
    <div th:replace="/admin/comm/innerLeft.html :: innerLeft"></div>
    <div id="layoutSidenav_content">
        <main>
            <div class="container-fluid">
                <h1 class="mt-4">공통코드그룹</h1>
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item"><a href="index.html">공통</a></li>
                    <li class="breadcrumb-item active">코드그룹</li>
                </ol>
                <!--
                <div class="card mb-4">
                    <div class="card-body">DataTables is a third party plugin that is used to generate the demo table below. For more information about DataTables, please visit the <a target="_blank" href="https://datatables.net/">official DataTables documentation</a>.</div>
                </div>
                -->
                <div class="card mb-4">
                    <div class="card-header"><i class="fas fa-table mr-1"></i>공통코드그룹</div>
                    <div class="card-body">
                        <div id="codeGroupList" class="table-responsive">
                            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                                <thead>
                                <tr>
                                    <th>그룹ID</th>
                                    <th>그룹명</th>
                                    <th>설명</th>
                                    <th>사용여부</th>
                                    <th>삭제여부</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="vo : ${commCodeGroupList}">
                                    <td th:text="${vo.codeGroupId}"></td>
                                    <td th:text="${vo.codeGroupNm}"></td>
                                    <td th:text="${vo.codeGroupDc}"></td>
                                    <td th:text="${vo.useYn}"></td>
                                    <td th:text="${vo.delYn}"></td>
                                </tr>
                                </tbody>
                            </table>
                            <div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate">
                                <ul class="pagination">
                                    <li class="paginate_button page-item previous disabled" id="dataTable_previous" th:classappend="${commCodeGroupVo.firstPageNoOnPageList} == 1 ? null : disabled">
                                        <a href="#" aria-controls="dataTable" data-dt-idx="0" tabindex="0" class="page-link">Previous</a>
                                    </li>
                                    <li class="paginate_button page-item" th:each="idx,iterStat : ${#numbers.sequence(commCodeGroupVo.firstPageNoOnPageList, commCodeGroupVo.lastPageNoOnPageList)}" th:classappend="${commCodeGroupVo.currentPageNo} == ${idx} ? active : null">
                                        <a href="#" tabindex="0" class="page-link" th:onclick="|javascript:getPage('${idx}')|" th:text="${idx}"></a>
                                    </li>
                                    <li class="paginate_button page-item next" id="dataTable_next" th:classappend="${commCodeGroupVo.lastPageNoOnPageList} * ${commCodeGroupVo.pageSize} >= ${commCodeGroupVo.totalRecordCount} ? null : disabled">
                                        <a href="#" aria-controls="dataTable" data-dt-idx="7" tabindex="0" class="page-link">Next</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer th:replace="/admin/comm/innerFooter.html :: innerFooter"></footer>
    </div>
</div>
<div th:replace="/admin/comm/innerScript.html :: innerScript"></div>
<script type="text/javascript">
function getPage(pageNo) {
    $("#codeGroupList").load(
     	  "/admin/comm/getCommCodeGroupListAjaxLoad"
    	, { "currentPageNo" : pageNo }
    );
}

$(function () {
    //Spring Security csrf 관련 설정
    var token  = $("meta[name='_csrf']").attr("content");
    var header = $("meta[name='_csrf_header']").attr("content");

    $(document).ajaxSend(function(e, xhr, options) {
        if(token && header) {
            xhr.setRequestHeader(header, token);
        }
    });
});
</script>
</body>
</html>
